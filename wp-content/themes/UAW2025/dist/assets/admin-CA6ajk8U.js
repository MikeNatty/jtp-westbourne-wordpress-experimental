document.addEventListener("mouseenter",n=>{const{target:e}=n;if(typeof e=="object"&&e!==null&&"getAttribute"in e&&e.matches("a[data-layout]")){const s=e.dataset.layout;p(s,e)}},!0);document.addEventListener("mouseleave",n=>{const{target:e}=n;typeof e=="object"&&e!==null&&"getAttribute"in e&&e.matches("a[data-layout]")&&f(e)},!0);function p(n,e){const s=m(n),r=`${FlyntData.templateDirectoryUri}/${FeatureFlexibleContentExtension.components[s]}/screenshot.png`,t=document.createElement("div");t.classList.add("flyntComponentScreenshot-imageWrapper"),e.append(t);const o=document.createElement("img");o.classList.add("flyntComponentScreenshot-previewImageLarge"),o.src=r,t.prepend(o)}function f(n){n.querySelector(".flyntComponentScreenshot-imageWrapper").remove()}function m(n){return n.substr(0,1).toUpperCase()+n.substr(1)}if(window.acf){const n=window.acf.Model.extend({wait:"ready",events:{'click [data-name="add-layout"]':"onClick"},initialize:function(){document.body.addEventListener("click",e=>{e.target.classList.contains("flyntComponentSearch-field")&&e.stopPropagation()},!1)},onClick:function(e,s){document.querySelectorAll(".acf-fc-popup").forEach(t=>{const o=t.classList.contains("top")?"top":"bottom";if(this.render(t,o),t.classList.contains("top")){const a=s[0],c=a.getBoundingClientRect().bottom,i=a.getBoundingClientRect().height,l=window.innerHeight-window.scrollY-c+i+10;t.style.top="auto",t.style.bottom=`${l}px`}})},render:function(e,s){const{placeholder:r,noResults:t}=window.FeatureFlexibleContentExtension.labels;if(e.querySelector(".flyntComponentSearch"))return;e.insertAdjacentHTML(s==="top"?"beforeend":"afterbegin",`<div class="flyntComponentSearch">
          <input type="text" placeholder="${r}" class="flyntComponentSearch-field">
          <div class="flyntComponentSearch-noResults" hidden>${t}</div>
        </div>`);const o=e.querySelector(".flyntComponentSearch-field"),a=e.querySelector(".flyntComponentSearch-noResults"),c=e.querySelectorAll("ul li");o.focus(),o.addEventListener("input",i=>{const l=i.target.value.toLowerCase().split(" ").filter(u=>u),d=this.filterComponents(l,c);a.toggleAttribute("hidden",d)})},filterComponents:function(e,s){const r=[];return s.forEach(t=>{const o=t.innerText.toLowerCase(),a=e.every(c=>o.indexOf(c)>-1);t.style.display=a?"block":"none",a&&r.push(a)}),r.length>0}});new n}
