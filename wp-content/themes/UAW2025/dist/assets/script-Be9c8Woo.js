function M(d){const u=d.querySelector(".map");let w=u.dataset.apiKey,z=u.dataset.location,S=14;b();function b(){if(!w){console.error("Google Maps API key is missing");return}const i=document.createElement("script");i.src=(r=>{var a,o,n,s="The Google Maps JavaScript API",e="google",t="importLibrary",f="__ib__",g=document,c=window;c=c[e]||(c[e]={});var l=c.maps||(c.maps={}),h=new Set,m=new URLSearchParams,E=()=>a||(a=new Promise(async(p,y)=>{var k;await(o=g.createElement("script")),m.set("libraries",[...h]+"");for(n in r)m.set(n.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),r[n]);m.set("callback",e+".maps."+f),o.src=`https://maps.${e}apis.com/maps/api/js?`+m,l[f]=p,o.onerror=()=>a=y(Error(s+" could not load.")),o.nonce=((k=g.querySelector("script[nonce]"))==null?void 0:k.nonce)||"",g.head.append(o)}));l[t]?console.warn(s+" only loads once. Ignoring:",r):l[t]=(p,...y)=>h.add(p)&&E().then(()=>l[t](p,...y))})({key:w,v:"weekly"}),document.head.appendChild(i)}async function v(){const{Map:i}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:r}=await google.maps.importLibrary("marker"),a=JSON.parse(z),o=new i(u,{center:a,zoom:S,disableDefaultUI:!0,zoomControl:!1,scrollwheel:!1,gestureHandling:"none",mapId:"1234"}),n=document.createElement("div");n.className="map-pin map-pin--static",new r({map:o,position:a,content:n});const s=d.querySelector('[data-zoom="in"]'),e=d.querySelector('[data-zoom="out"]');s&&s.addEventListener("click",()=>{console.log("zoom");const t=o.getZoom();o.setZoom(t+1)}),e&&e.addEventListener("click",()=>{console.log("zoom out");const t=o.getZoom();o.setZoom(Math.max(1,t-1))})}v()}export{M as default};
